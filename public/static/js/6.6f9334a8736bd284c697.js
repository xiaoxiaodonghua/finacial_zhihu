webpackJsonp([6],{q7Tf:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("lC5x"),n=s.n(a),i=s("J0Oq"),r=s.n(i),o={data:function(){return{msg:"",form:{}}},props:{dialogVisible:{type:Boolean}},methods:{onSubmit:function(){console.log("请提交数据"),this.$emit("saveData",this.form)},closeDialog:function(){this.$emit("closeDialog")}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"40%","before-close":t.closeDialog,center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("el-form",{attrs:{model:t.form,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"问题标题"}},[s("el-input",{attrs:{placeholder:"请输入评论标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"问题描述"}},[s("el-input",{attrs:{type:"textarea",placeholder:"请输入问题描述"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.closeDialog}},[t._v("取消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确定")])],1)],1)},staticRenderFns:[]},c={components:{askQuestion:s("C7Lr")(o,l,!1,null,null,null).exports},data:function(){return{questionList:[],dialogVisible:!1,searchInfo:""}},created:function(){this.getAnswer()},methods:{askQuestion:function(){this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1},saveData:function(t){var e=this;return r()(n.a.mark(function s(){return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(t),s.next=3,e.$http.addAnswer(t);case 3:0===s.sent.status&&(e.$message.success("提问成功"),e.dialogVisible=!1,e.getAnswer());case 5:case"end":return s.stop()}},s,e)}))()},goDetail:function(t){this.$router.push({name:"AnswerDetail",params:{id:t}})},getAnswer:function(){var t=this;return r()(n.a.mark(function e(){var s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.getAnswerList();case 2:0===(s=e.sent).status?t.questionList=s.data:t.$message.error("获取答疑列表失败");case 4:case"end":return e.stop()}},e,t)}))()},searchData:function(){var t=this;return r()(n.a.mark(function e(){var s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=void 0,!t.searchInfo){e.next=8;break}return e.next=4,t.$http.searchAnswer({title:t.searchInfo});case 4:0===(s=e.sent).status?t.questionList=s.data:t.$message.error("哎呀... 搜索出问题了"),e.next=12;break;case 8:return e.next=10,t.$http.getAnswerList();case 10:0===(s=e.sent).status&&(t.questionList=s.data);case 12:case"end":return e.stop()}},e,t)}))()}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"answer-container"}},[s("div",{staticClass:"time-box"},[s("el-button",{staticStyle:{"margin-top":"10px",float:"right"},attrs:{type:"primary"},on:{click:t.askQuestion}},[t._v("我要提问")]),t._v(" "),s("el-input",{staticStyle:{width:"200px",margin:"10px 10px 0",float:"right"},attrs:{placeholder:"请输入搜索内容"},model:{value:t.searchInfo,callback:function(e){t.searchInfo=e},expression:"searchInfo"}},[s("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},on:{click:t.searchData},slot:"suffix"})])],1),t._v(" "),t._l(t.questionList,function(e){return s("div",{key:e._id,staticClass:"answer-item",on:{click:function(s){t.goDetail(e._id)}}},[s("h2",[t._v(t._s(e.title))]),t._v(" "),s("span",[t._v(t._s(e.description))]),t._v(" "),s("span",{staticStyle:{float:"right"}},[t._v("提问时间："+t._s(t._f("format")(e.date)))]),t._v(" "),t._l(e.answer,function(e,a){return s("div",{key:a},[t._v(t._s(e.name)+"回答："+t._s(e.content))])})],2)}),t._v(" "),s("ask-question",{attrs:{dialogVisible:t.dialogVisible},on:{closeDialog:t.closeDialog,saveData:t.saveData}})],2)},staticRenderFns:[]};var f=s("C7Lr")(c,u,!1,function(t){s("sWu8")},"data-v-69b23352",null);e.default=f.exports},sWu8:function(t,e){}});
//# sourceMappingURL=6.6f9334a8736bd284c697.js.map